<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>
        // nasr
        function getAllStudents() {
            return new Promise((resolve, reject) => {
                setTimeout(function () {
                    console.log("From Get Studnets");
                    let stdarr = [{ ID: 10, Name: "StdOne" }, { ID: 20, Name: "StdTwo" }, { ID: 30, Name: "Stdthree" }];
                    resolve(stdarr);
                }, 4000);

            })

        }
        // Mohamed
        function displayAllStudents(stdarr) {
            return new Promise((resolve, reject) => {
                setTimeout(function () {
                    console.log("From Display All Studnets");
                    stdarr.forEach((std) => { console.log(`ID = ${std.ID} , Name = ${std.Name}`); });
                    let deptarr = [{ deptID: 100, deptName: "Cloud", deptMgr: "Mgrone" }, { deptID: 200, deptName: "Java", deptMgr: "Mgrtwo" }, { deptID: 300, deptName: "Application", deptMgr: "MgrThree" }];
                    resolve(deptarr);
                }, 4000);
            })
        }

        // ALi
        function displayAllDepts(deptarr) {
            return new Promise((resolve, reject) => {

                setTimeout(function () {
                    console.log("From Display All Depts");
                    let mgrarr = [];
                    deptarr.forEach((dept) => { console.log(`Dept ID = ${dept.deptID} , DeptName = ${dept.deptName}`); mgrarr.push(dept.deptMgr); })
                    resolve(mgrarr);
                }, 4000);
            })
        }
        // Moustafa : print array of managers
        function displayAllManagers(mgrarr) {
            console.log("From diaplay ALl Managers");
            mgrarr.forEach((mgr) => { console.log(mgr); });
        }


        //Ibraheem : run
        //getAllStudents().then((allstudents) => {
        //    displayAllStudents(allstudents).then((alldepts) => {
        //        displayAllDepts(alldepts).then((allmanagers) => {
        //            displayAllManagers(allmanagers);
        //        })
        //    })
        //})


        // async and await keywords
        // await before calling method which return promise
        //await you have to write it inside fucntion whcich marked as async

        console.log("Hell o wkdek");
        async function init() {
            let allstds = await getAllStudents();
            let alldepts = await displayAllStudents(allstds);
            let allmgrs = await displayAllDepts(alldepts);
            displayAllManagers(allmgrs);
        }
        init();
        console.log("Hell o wkksjdkwjdkjwdjwjdiwjdek");
    </script>
</head>
<body>

</body>
</html>